<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <title>Kalkulator PV</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="estimator-container">
  <!-- iOS-style Navigation Bar -->
  <div class="estimator-header">
    <h1>Kalkulator PV</h1>
  </div>

  <!-- Settings Info Banner -->
  <div id="settingsInfo" class="settings-info-banner"></div>

  <div class="estimator-content">
    <!-- Input Section -->
    <div class="input-section">

      <!-- Power Input -->
      <div class="input-group power-group">
        <label>MOC INSTALACJI</label>
        <div class="power-input-wrapper">
          <input type="number" id="powerKwp" value="100" min="10" max="50000" step="10">
          <span class="unit-badge">kWp</span>
        </div>
        <div class="power-presets">
          <button type="button" class="preset-btn" data-power="50">50</button>
          <button type="button" class="preset-btn" data-power="100">100</button>
          <button type="button" class="preset-btn" data-power="250">250</button>
          <button type="button" class="preset-btn" data-power="500">500</button>
          <button type="button" class="preset-btn" data-power="1000">1 MW</button>
          <button type="button" class="preset-btn" data-power="5000">5 MW</button>
        </div>
      </div>

      <!-- Installation Type - iOS List -->
      <label class="input-group" style="margin-bottom: 8px;">TYP INSTALACJI</label>
      <div class="type-cards">
        <label class="type-card selected" data-type="ground_s">
          <input type="radio" name="installationType" value="ground_s" checked>
          <span class="type-icon">‚òÄÔ∏è</span>
          <div class="type-info">
            <span class="type-name">Grunt Po≈Çudnie</span>
            <span class="type-yield">1050 kWh/kWp</span>
          </div>
          <span class="checkmark">‚úì</span>
        </label>
        <label class="type-card" data-type="ground_ew">
          <input type="radio" name="installationType" value="ground_ew">
          <span class="type-icon">‚ÜîÔ∏è</span>
          <div class="type-info">
            <span class="type-name">Grunt Wsch√≥d-Zach√≥d</span>
            <span class="type-yield">980 kWh/kWp</span>
          </div>
          <span class="checkmark">‚úì</span>
        </label>
        <label class="type-card" data-type="roof_ew">
          <input type="radio" name="installationType" value="roof_ew">
          <span class="type-icon">üè†</span>
          <div class="type-info">
            <span class="type-name">Dach Wsch√≥d-Zach√≥d</span>
            <span class="type-yield">950 kWh/kWp</span>
          </div>
          <span class="checkmark">‚úì</span>
        </label>
        <label class="type-card" data-type="carport">
          <input type="radio" name="installationType" value="carport">
          <span class="type-icon">üöó</span>
          <div class="type-info">
            <span class="type-name">Carport</span>
            <span class="type-yield">900 kWh/kWp</span>
          </div>
          <span class="checkmark">‚úì</span>
        </label>
      </div>

      <!-- Scenario - iOS Segmented Control -->
      <label class="input-group" style="margin-bottom: 8px;">SCENARIUSZ</label>
      <div class="scenario-pills">
        <label class="scenario-pill selected" data-scenario="P50">
          <input type="radio" name="scenario" value="P50" checked>
          <span class="pill-label">P50</span>
          <span class="pill-desc">bazowy</span>
        </label>
        <label class="scenario-pill" data-scenario="P75">
          <input type="radio" name="scenario" value="P75">
          <span class="pill-label">P75</span>
          <span class="pill-desc">-3%</span>
        </label>
        <label class="scenario-pill" data-scenario="P90">
          <input type="radio" name="scenario" value="P90">
          <span class="pill-label">P90</span>
          <span class="pill-desc">-6%</span>
        </label>
      </div>

      <!-- Advanced Options -->
      <details class="advanced-options">
        <summary>
          <span class="summary-icon">‚öôÔ∏è</span>
          Zaawansowane
          <span class="summary-arrow">‚Ä∫</span>
        </summary>
        <div class="advanced-content">
          <div class="input-group compact">
            <label>CENA ENERGII</label>
            <div class="inline-input">
              <input type="number" id="energyPrice" value="1000" min="300" max="2000" step="25">
              <span class="unit">PLN/MWh</span>
            </div>
          </div>
          <div class="input-group compact">
            <label>STRATY SIECIOWE</label>
            <div class="inline-input">
              <input type="number" id="curtailmentLoss" value="0" min="0" max="50" step="0.5">
              <span class="unit">%</span>
            </div>
          </div>
        </div>
      </details>

      <button onclick="calculate()" class="btn-calculate">
        Oblicz
      </button>
    </div>

    <!-- Results Section -->
    <div class="results-section">

      <!-- Primary Results -->
      <div class="primary-results">
        <div class="primary-card production">
          <div class="primary-icon">‚òÄÔ∏è</div>
          <div class="primary-value" id="resultProduction">‚Äì</div>
          <div class="primary-unit">MWh/rok</div>
          <div class="primary-label">Produkcja</div>
        </div>
        <div class="primary-card flh">
          <div class="primary-icon">‚è±Ô∏è</div>
          <div class="primary-value" id="resultFLH">‚Äì</div>
          <div class="primary-unit">h/rok</div>
          <div class="primary-label">FLH</div>
        </div>
      </div>

      <!-- Financial Results - iOS List -->
      <div class="financial-grid">
        <div class="finance-card">
          <div class="finance-header">
            <span class="finance-icon">üí∞</span>
            <span class="finance-title">Oszczƒôdno≈õci roczne</span>
          </div>
          <div class="finance-value" id="resultSavings">‚Äì</div>
        </div>
        <div class="finance-card">
          <div class="finance-header">
            <span class="finance-icon">üèóÔ∏è</span>
            <span class="finance-title">CAPEX</span>
          </div>
          <div class="finance-value" id="resultCapex">‚Äì</div>
        </div>
        <div class="finance-card">
          <div class="finance-header">
            <span class="finance-icon">üîÑ</span>
            <span class="finance-title">Okres zwrotu</span>
          </div>
          <div class="finance-value" id="resultPayback">‚Äì lat</div>
        </div>
        <div class="finance-card">
          <div class="finance-header">
            <span class="finance-icon">üìä</span>
            <span class="finance-title">NPV</span>
          </div>
          <div class="finance-value" id="resultNPV">‚Äì</div>
        </div>
      </div>

      <!-- Summary Bar -->
      <div class="summary-bar" id="summaryBar" style="display:none">
        <div class="summary-item">
          <span class="summary-label">CAPEX/kWp</span>
          <span class="summary-value" id="summaryCapexKwp">‚Äì</span>
        </div>
        <div class="summary-item">
          <span class="summary-label">IRR</span>
          <span class="summary-value" id="summaryIRR">‚Äì</span>
        </div>
        <div class="summary-item">
          <span class="summary-label">LCOE</span>
          <span class="summary-value" id="summaryLCOE">‚Äì</span>
        </div>
      </div>

      <!-- Expandable Details -->
      <details class="result-details" id="resultDetails">
        <summary>
          <span>Szczeg√≥≈Çy kalkulacji</span>
          <span class="details-arrow">‚Ä∫</span>
        </summary>
        <table id="detailsTable">
          <tbody></tbody>
        </table>
      </details>
    </div>
  </div>

  <div class="estimator-footer">
    <div class="footer-badge">
      <span class="footer-icon">‚ÑπÔ∏è</span>
      <span>Dane z <strong>Ustawie≈Ñ</strong></span>
    </div>
  </div>
</div>

<script src="estimator.js"></script>
</body>
</html>
