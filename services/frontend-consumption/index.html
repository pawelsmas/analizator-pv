<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Analiza ZuÅ¼ycia</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="consumption-container">
  <div class="page-header">
    <h1>ðŸ“Š ANALIZA ZUÅ»YCIA ENERGII</h1>
    <div class="header-info">
      <span id="dataInfo">Brak danych</span>
    </div>
  </div>

  <div class="content-grid">
    <!-- Statystyki podstawowe -->
    <div class="stats-section">
      <h2>Statystyki Roczne</h2>
      <div class="stats-cards">
        <div class="stat-card">
          <div class="stat-icon">âš¡</div>
          <div class="stat-content">
            <div class="stat-label">ZuÅ¼ycie Roczne</div>
            <div class="stat-value" id="annualConsumption">-</div>
            <div class="stat-unit">GWh</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ðŸ“ˆ</div>
          <div class="stat-content">
            <div class="stat-label">Moc Szczytowa</div>
            <div class="stat-value" id="peakPower">-</div>
            <div class="stat-unit">MW</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ðŸ“‰</div>
          <div class="stat-content">
            <div class="stat-label">Moc Minimalna</div>
            <div class="stat-value" id="minPower">-</div>
            <div class="stat-unit">kW</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ðŸ“Š</div>
          <div class="stat-content">
            <div class="stat-label">Åšrednia Dzienna</div>
            <div class="stat-value" id="avgDaily">-</div>
            <div class="stat-unit">MWh</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Profil dobowy -->
    <div class="chart-section">
      <h2>Åšredni Profil Dobowy</h2>
      <div class="chart-info">
        Åšrednie godzinowe zuÅ¼ycie w ciÄ…gu doby
      </div>
      <canvas id="dailyProfile"></canvas>
    </div>

    <!-- Profil tygodniowy -->
    <div class="chart-section">
      <h2>Profil Tygodniowy</h2>
      <div class="chart-info">
        Åšrednie dobowe zuÅ¼ycie wedÅ‚ug dnia tygodnia
      </div>
      <canvas id="weeklyProfile"></canvas>
    </div>

    <!-- Profil miesiÄ™czny -->
    <div class="chart-section full-width">
      <h2>Profil MiesiÄ™czny</h2>
      <div class="chart-info">
        ZuÅ¼ycie w poszczegÃ³lnych miesiÄ…cach
      </div>
      <canvas id="monthlyProfile"></canvas>
    </div>

    <!-- Analiza rozkÅ‚adu mocy -->
    <div class="chart-section">
      <h2>Krzywa UporzÄ…dkowana Mocy</h2>
      <div class="chart-info">
        RozkÅ‚ad mocy od najwiÄ™kszej do najmniejszej
      </div>
      <canvas id="loadDurationCurve"></canvas>
    </div>

    <!-- Statystyki szczegÃ³Å‚owe -->
    <div class="details-section">
      <h2>Statystyki SzczegÃ³Å‚owe</h2>
      <div class="details-grid">
        <div class="detail-item">
          <span class="detail-label">Åšrednia Moc:</span>
          <span class="detail-value" id="avgPower">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Odchylenie Standardowe:</span>
          <span class="detail-value" id="stdDev">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">WspÃ³Å‚czynnik ZmiennoÅ›ci:</span>
          <span class="detail-value" id="variationCoef">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">WspÃ³Å‚czynnik ObciÄ…Å¼enia:</span>
          <span class="detail-value" id="loadFactor">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">IloÅ›Ä‡ PomiarÃ³w:</span>
          <span class="detail-value" id="dataPoints">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Okres Danych:</span>
          <span class="detail-value" id="dataPeriod">-</span>
        </div>
      </div>
    </div>

    <!-- Akcje -->
    <div class="actions-section full-width">
      <button class="btn" onclick="exportAnalysis()">ðŸ“¥ Eksportuj AnalizÄ™</button>
      <button class="btn btn-secondary" onclick="refreshData()">ðŸ”„ OdÅ›wieÅ¼ Dane</button>
    </div>
  </div>

  <!-- Info gdy brak danych -->
  <div id="noDataMessage" class="no-data">
    <div class="no-data-icon">ðŸ“Š</div>
    <h3>Brak Danych do Analizy</h3>
    <p>PrzejdÅº do moduÅ‚u Configuration i zaÅ‚aduj dane zuÅ¼ycia energii.</p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="consumption.js"></script>
</body>
</html>
